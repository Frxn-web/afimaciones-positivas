<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Un Regalo para Kilee ✨</title>
    
    <!-- Tailwind CSS para el diseño -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Fuentes de Google: 'Great Vibes' para títulos y 'Poppins' para el cuerpo -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- Iconos de Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* Aplicamos las fuentes personalizadas */
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #1a1a2e; /* Fondo oscuro para el efecto de estrellas */
        }
        .font-title {
            font-family: 'Great Vibes', cursive;
        }

        /* Contenedor para el fondo animado */
        #particles-js {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: -1; /* Detrás de todo el contenido */
            background-color: #1a1a2e;
            background-image: linear-gradient(to bottom, #1a1a2e, #16213e, #0f3460);
        }

        /* Estilos del modal de notificación */
        .custom-modal {
            display: none;
            position: fixed;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.6);
            justify-content: center;
            align-items: center;
        }
        .custom-modal-content {
            background-color: #fff;
            color: #333;
            margin: auto;
            padding: 25px 30px;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(255, 255, 255, 0.1);
            text-align: center;
            position: relative;
            width: 90%;
            max-width: 350px;
            border: 2px solid #e94560;
            animation: modal-pop 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        }
        
        @keyframes modal-pop {
            from { transform: scale(0.7); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        /* Animación para la aparición de la afirmación */
        .fade-in-up {
            animation: fadeInUp 0.8s ease-in-out;
        }
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Estilo de los botones con un brillo sutil */
        .glowing-btn {
            box-shadow: 0 0 5px #e94560, 0 0 10px #e94560, 0 0 15px #e94560;
        }

        /* CAMBIO: Asegura que el texto de las opciones del menú sea legible */
        select option {
            color: #1f2937; /* Un color oscuro para el texto */
            background-color: #ffffff; /* Fondo blanco para las opciones */
        }
    </style>
</head>
<body class="text-gray-200 leading-relaxed">

    <!-- Fondo de partículas animado -->
    <div id="particles-js"></div>

    <!-- Modal personalizado para notificaciones -->
    <div id="customModal" class="custom-modal">
        <div class="custom-modal-content">
            <p id="modalMessage" class="text-lg font-semibold text-gray-800"></p>
        </div>
    </div>

    <!-- Contenido principal -->
    <main class="container mx-auto px-6 py-12 relative z-10">

        <!-- Sección Principal: Generador de Afirmaciones Personalizado -->
        <section class="text-center py-12 md:py-20">
            <h1 class="font-title text-6xl md:text-8xl text-white mb-4" style="text-shadow: 0 0 15px #e94560;">
                Para mi Kilee
            </h1>
            <p class="text-lg md:text-xl text-gray-300 mb-10 max-w-2xl mx-auto">Una pequeña dosis de amor y luz, solo para ti. Porque te mereces todo lo bonito del universo.</p>

            <!-- Selector de Categoría -->
            <div class="mb-8 max-w-sm mx-auto">
                <label for="affirmation-category" class="block text-white text-lg font-semibold mb-2">Elige un tipo de mensaje:</label>
                <select id="affirmation-category" class="w-full p-3 rounded-lg bg-white/20 backdrop-blur-sm text-white border border-white/30 shadow-lg focus:ring-2 focus:ring-[#e94560] focus:outline-none">
                    <!-- Categorías de afirmaciones se insertan aquí con JS -->
                </select>
            </div>

            <!-- Área de visualización de la afirmación -->
            <div class="affirmation-display bg-white/10 backdrop-blur-md text-white p-8 md:p-10 rounded-xl shadow-2xl max-w-2xl mx-auto mb-8 relative border border-white/20 min-h-[150px] flex items-center justify-center">
                <p id="current-affirmation" class="text-2xl md:text-3xl font-semibold italic">
                    <!-- La afirmación se insertará aquí -->
                </p>
                <!-- Botón para copiar -->
                <button id="copy-affirmation-btn" title="Copiar al portapapeles" class="absolute top-4 right-4 text-gray-300 hover:text-[#e94560] transition duration-300">
                    <i class="fas fa-copy text-xl"></i>
                </button>
            </div>

            <!-- Botones de acción -->
            <div class="flex flex-col sm:flex-row justify-center items-center gap-5">
                <button id="generate-affirmation-btn" class="bg-[#e94560] hover:bg-[#d43d51] text-white font-bold py-4 px-8 rounded-full shadow-lg transition duration-300 transform hover:scale-105 glowing-btn flex items-center justify-center gap-2 w-full sm:w-auto">
                    Generar Mensaje <i class="fas fa-heart-pulse ml-2"></i>
                </button>
                <div class="flex space-x-4">
                    <button id="share-whatsapp-btn" title="Compartir en WhatsApp" class="bg-green-500 hover:bg-green-600 text-white p-4 rounded-full shadow-md transition duration-300 transform hover:scale-110">
                        <i class="fab fa-whatsapp text-xl"></i>
                    </button>
                    <!-- CAMBIO: Botón de Twitter reemplazado por Instagram -->
                    <button id="share-instagram-btn" title="Compartir en Instagram" class="bg-gradient-to-br from-purple-600 via-pink-500 to-orange-400 text-white p-4 rounded-full shadow-md transition duration-300 transform hover:scale-110">
                        <i class="fab fa-instagram text-xl"></i>
                    </button>
                </div>
            </div>
        </section>

        <!-- Sección de Mensaje Personal -->
        <section class="py-16 text-center bg-white/5 backdrop-blur-sm rounded-xl shadow-lg mt-16 border border-white/10">
            <h2 class="font-title text-5xl md:text-6xl text-white mb-6" style="text-shadow: 0 0 10px #e94560;">Unas palabras para ti</h2>
            <div class="max-w-3xl mx-auto text-lg text-gray-300 space-y-4 px-6">
                <p>Kilee, mi amor. Quise crear este pequeño rincón en el universo digital solo para ti. Un lugar al que puedas venir siempre que necesites un recordatorio de lo increíble que eres y de lo mucho que te amo.</p>
                <p>Cada palabra aquí está cargada con todo mi cariño. Eres mi inspiración, mi alegría y mi persona favorita en el mundo. Espero que esto te saque una sonrisa.</p>
                <p class="font-semibold text-[#e94560] text-xl mt-6">Con todo mi amor, siempre.</p>
            </div>
        </section>

    </main>

    <!-- Pie de página -->
    <footer class="text-center py-8 mt-12 relative z-10">
        <p class="text-gray-400 text-sm">&copy; 2025 - Hecho con <i class="fas fa-heart text-[#e94560]"></i> exclusivamente para la mejor novia del mundo.</p>
    </footer>

    <!-- Script para la animación de partículas -->
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- CONFIGURACIÓN DE PARTÍCULAS ---
            particlesJS("particles-js", {
                "particles": {
                    "number": { "value": 80, "density": { "enable": true, "value_area": 800 } },
                    "color": { "value": "#ffffff" },
                    "shape": { "type": "circle", "stroke": { "width": 0, "color": "#000000" } },
                    "opacity": { "value": 0.5, "random": true, "anim": { "enable": true, "speed": 1, "opacity_min": 0.1, "sync": false } },
                    "size": { "value": 3, "random": true, "anim": { "enable": false } },
                    "line_linked": { "enable": false },
                    "move": { "enable": true, "speed": 1, "direction": "none", "random": true, "straight": false, "out_mode": "out", "bounce": false }
                },
                "interactivity": {
                    "detect_on": "canvas",
                    "events": { "onhover": { "enable": true, "mode": "bubble" }, "onclick": { "enable": true, "mode": "push" }, "resize": true },
                    "modes": { "bubble": { "distance": 200, "size": 5, "duration": 2, "opacity": 8, "speed": 3 }, "push": { "particles_nb": 4 } }
                },
                "retina_detect": true
            });

            // --- LÓGICA DE LA APLICACIÓN ---

            // Objeto con todas las afirmaciones
            const affirmationsByCategory = {
                para_ti: [
                    "Eres la persona más increíble que he conocido, Kilee.",
                    "Tu sonrisa tiene el poder de iluminar mi día por completo.",
                    "Amo cada pequeño detalle que te hace ser tú.",
                    "Gracias por existir y por hacerme tan feliz.",
                    "Kilee, eres más fuerte y valiente de lo que imaginas.",
                    "Estoy tan orgulloso de la persona que eres.",
                    "Contigo a mi lado, siento que puedo conquistar el mundo.",
                    "Eres mi lugar seguro y mi aventura favorita, todo en uno.",
                    "Tu inteligencia y tu corazón son simplemente deslumbrantes.",
                    "No olvides nunca lo valiosa y maravillosa que eres.",
                    "Cada día a tu lado es el mejor regalo.",
                    "Te amo más de lo que las palabras pueden expresar."
                ],
                confianza: [
                    "Confío plenamente en mis habilidades y fortalezas.", "Soy segura de mí misma y de mis decisiones.", "Mi confianza crece con cada paso que doy.", "Soy digna de respeto y admiración.", "Me expreso con claridad y convicción.", "Creo en mi capacidad para superar cualquier obstáculo.",
                ],
                bienestar: [
                    "Mi cuerpo es fuerte y saludable.", "Elijo pensamientos que nutren mi bienestar.", "Me permito descansar y recargar energías.", "Estoy en paz conmigo misma y con el mundo.", "Mi mente y mi cuerpo están en perfecta armonía.",
                ],
                exito: [
                    "Soy un imán para el éxito y las oportunidades.", "Cada día me acerco más a mis metas.", "Mis esfuerzos son recompensados con éxito.", "Estoy abierta a recibir todas las bendiciones del éxito.",
                ],
                amor: [
                    "Soy digna de amor y lo recibo en abundancia.", "Mi corazón está abierto al amor incondicional.", "Atraigo relaciones sanas y significativas.", "Me amo y me acepto tal como soy.",
                ]
            };

            // Mapeo de claves a nombres bonitos para el selector
            const categoryNames = {
                para_ti: "Para Ti, Mi Amor ❤️",
                confianza: "Confianza y Poder 💪",
                bienestar: "Paz y Bienestar 🧘‍♀️",
                exito: "Éxito y Abundancia ✨",
                amor: "Amor Propio y Sanación ❤️‍🩹"
            };

            // Elementos del DOM
            const affirmationElement = document.getElementById('current-affirmation');
            const generateBtn = document.getElementById('generate-affirmation-btn');
            const copyBtn = document.getElementById('copy-affirmation-btn');
            const categorySelector = document.getElementById('affirmation-category');
            const customModal = document.getElementById('customModal');
            const modalMessage = document.getElementById('modalMessage');
            
            const shareWhatsappBtn = document.getElementById('share-whatsapp-btn');
            // CAMBIO: Se selecciona el botón de Instagram
            const shareInstagramBtn = document.getElementById('share-instagram-btn');

            // --- FUNCIONES ---

            function populateCategories() {
                const categoryOrder = ['para_ti', 'confianza', 'bienestar', 'exito', 'amor'];
                for (const key of categoryOrder) {
                    if (affirmationsByCategory[key]) {
                        const option = document.createElement('option');
                        option.value = key;
                        option.textContent = categoryNames[key] || key;
                        categorySelector.appendChild(option);
                    }
                }
            }

            function showModal(message) {
                modalMessage.textContent = message;
                customModal.style.display = 'flex';
                setTimeout(() => {
                    hideModal();
                }, 2500); // Un poco más de tiempo para leer el mensaje de Instagram
            }

            function hideModal() {
                customModal.style.display = 'none';
            }

            function generateNewAffirmation() {
                const selectedCategory = categorySelector.value;
                const affirmations = affirmationsByCategory[selectedCategory];
                const randomIndex = Math.floor(Math.random() * affirmations.length);
                const newAffirmation = affirmations[randomIndex];

                affirmationElement.classList.remove('fade-in-up');
                void affirmationElement.offsetWidth;
                affirmationElement.textContent = `"${newAffirmation}"`;
                affirmationElement.classList.add('fade-in-up');
            }

            // CAMBIO: La función ahora acepta un mensaje personalizado para el modal
            function copyToClipboard(message = '¡Mensaje copiado! ❤️') {
                const textToCopy = affirmationElement.textContent.replace(/"/g, '');
                const tempInput = document.createElement('textarea');
                tempInput.value = textToCopy;
                document.body.appendChild(tempInput);
                tempInput.select();
                try {
                    document.execCommand('copy');
                    showModal(message);
                } catch (err) {
                    showModal('Error al copiar. Intenta de nuevo.');
                }
                document.body.removeChild(tempInput);
            }
            
            // CAMBIO: La función ahora maneja Instagram
            function shareOn(platform) {
                const text = affirmationElement.textContent.replace(/"/g, '');
                const encodedText = encodeURIComponent(text + " ✨");
                
                if (platform === 'whatsapp') {
                    const url = `https://api.whatsapp.com/send?text=${encodedText}`;
                    window.open(url, '_blank');
                } else if (platform === 'instagram') {
                    // Instagram no permite compartir texto directamente.
                    // Así que copiamos el texto y le mostramos una instrucción.
                    copyToClipboard('Mensaje copiado. ¡Ahora pégalo en tu publicación de Instagram!');
                }
            }

            // --- EVENT LISTENERS ---
            
            generateBtn.addEventListener('click', generateNewAffirmation);
            categorySelector.addEventListener('change', generateNewAffirmation);
            // CAMBIO: El botón de copiar ahora llama a la función sin argumentos
            copyBtn.addEventListener('click', () => copyToClipboard());
            
            shareWhatsappBtn.addEventListener('click', () => shareOn('whatsapp'));
            // CAMBIO: El listener ahora es para el botón de Instagram
            shareInstagramBtn.addEventListener('click', () => shareOn('instagram'));

            window.addEventListener('click', (event) => {
                if (event.target === customModal) {
                    hideModal();
                }
            });

            // --- INICIALIZACIÓN ---
            populateCategories();
            generateNewAffirmation();
        });
    </script>
</body>
</html>
